(this.webpackJsonpmeteo=this.webpackJsonpmeteo||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),l=(a(12),a(2)),s=a.n(l),i=a(4),m=a(1);a(6);function u(e){var t="page-item";return e.isActive&&(t+=" active"),r.a.createElement("li",{className:t},r.a.createElement("button",{className:"page-link",href:"",onClick:function(t){e.handleClick(e.label)}},e.label))}function d(e){var t=e.children;return r.a.createElement("div",{className:"days-container"},r.a.createElement("nav",{className:"days-nav","aria-label":"..."},r.a.createElement("ul",{className:"d-flex justify-content-center"},t)))}function p(e){var t=e.type,a=void 0===t?"border":t,n=e.color,c=void 0===n?"primary":n;return r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},r.a.createElement("div",{className:"spinner-".concat(a," text-").concat(c),role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}function v(e){var t=e.title,a=void 0===t||t,n=e.color,c=void 0===n?"danger":n,o=e.pContent,l=void 0===o?"Error":o,s=e.bottomContent,i=void 0===s?"La ville n'existe pas":s;return r.a.createElement("div",{className:"text-center alert alert-".concat(c),role:"alert"},a?r.a.createElement("h4",{className:"alert-heading"},"Error !"):"",r.a.createElement("p",null,l),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},i))}function f(e){!1!==e&&void 0!==e||(e=new Date);var t=new Intl.DateTimeFormat("fr-FR",{weekday:"long"}).format(new Date(e));return t[0].toUpperCase()+t.slice(1)}function g(e){var t=e.meteo,a=(e.activeDay,e.index);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-3"},"Le ",t.date),r.a.createElement("div",{className:"mt-3"},1===(a-3).toString().length?"0"+(a-3):a-3," H - ",1===a.toString().length?"0"+a:a," H"),r.a.createElement("div",{className:"mt-3"},r.a.createElement("img",{src:"https://openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/"+t.icon+".png",alt:t.description})),r.a.createElement("div",{className:"mt-3"},"Temps : ",t.description),r.a.createElement("div",{className:"mt-3"},"Temperature r\xe9el : ",t.temp," \xb0 C"),r.a.createElement("div",{className:"mt-3"},"Temp\xe9rature ressenti : ",t.feel," \xb0 C"),r.a.createElement("div",{className:"mt-3 mb-3"},"Humidit\xe9 : ",t.humidity," %"))}var h="e184943229e3aef2a626130052103510";var E=function(){var e=f(),t=r.a.useState(e),a=Object(m.a)(t,2),n=a[0],c=a[1],o=r.a.useState(!1),l=Object(m.a)(o,2),E=l[0],b=l[1],y=r.a.useState("Bordeaux"),N=Object(m.a)(y,2),w=N[0],x=N[1],C=r.a.useState(null),j=Object(m.a)(C,2),k=j[0],S=j[1],D=r.a.useState({}),L=Object(m.a)(D,2),M=L[0],O=L[1];r.a.useEffect((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(t){var a,n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CALL API 2"),a="https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&units=").concat("metric","&appid=").concat(h,"&lang=fr"),e.next=4,fetch(a);case 4:return n=e.sent,console.log("meteoResponse",n),e.next=8,n.json();case 8:r=e.sent,console.log("bodyMeteoResponse",r),n.ok?(c=r.list.reduce((function(e,a){var n=f(a.dt_txt),r=a.weather[0].description[0].toUpperCase()+a.weather[0].description.slice(1);return e[n]||(e[n]=[]),e[n].push({city:t,weather:a.weather[0].main,description:r,temp:a.main.temp,icon:a.weather[0].icon,feel:a.main.feels_like,humidity:a.main.humidity,windDirection:a.wind.deg,date:a.dt_txt}),e}),{}),O(c),S(null)):(console.log(k),o={errorMessage:r.message},O(o),"city not found"===r.message?S({message:"La ville que vous recherchez n'as pas \xe9t\xe9 trouv\xe9 ou n'existe pas.",response:r.message}):S({response:r.message}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("api calling..."),function(t){e.apply(this,arguments)}(w)}),[w]),console.log("submittedCity",w),console.log("hasBeenSubmitted",E);var A=!k&&!M[n];console.log("loading ?",!k&&!M[n],"error ?",!k),console.log("error : ",k);var B=!A&&M[n];console.log("activeDayMeteo",!A&&M[n],B);var R=0;return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"d-flex justify-content-center flex-column header-container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-success mb-4 mt-4 main-title"},"M\xe9t\xe9o")),r.a.createElement(d,null,function(e,t){for(var a=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],n=0;n<a.length;n++){var r=a[n];if("Lundi"===e)return a.slice(0,t);if("Mardi"===e)return console.log(n),a.slice(1,t+1);if(r===e){var c=a.slice(n),o=a.slice(0,t-c.length);return c.concat(o)}}}(e,5).map((function(e){return r.a.createElement(u,{label:e,isActive:n===e,handleClick:c})}))),r.a.createElement("h2",{className:"text-center"},"M\xe9t\xe9o de ",w),r.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),b(!0),x(e.target[0].value),console.log("Vous avez soumis : ",e.target[0].value)},className:"d-flex justify-content-center"},r.a.createElement("div",{className:"form-group mx-sm-2 mb-2"},r.a.createElement("input",{type:"text",placeholder:"recherche..",className:"text-center"}),r.a.createElement("button",{type:"submit",className:"text-center btn btn-primary ml-2"},"Rechercher")))),A?r.a.createElement(p,{color:"dark",type:"grow"}):k?r.a.createElement(v,{title:!0,color:"warning",pContent:k.response,bottomContent:k.message}):r.a.createElement("div",{className:"text-center mt-3 meteo-card-container"},B.map((function(e){return R+=3,r.a.createElement("div",{className:"bg bg-secondary rounded meteo-card"},r.a.createElement(g,{meteo:e,activeDay:n,index:R}))}))))};a(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root"))},6:function(e,t,a){},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.65495966.chunk.js.map